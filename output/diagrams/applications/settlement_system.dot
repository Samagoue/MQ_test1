digraph "Settlement System" {
    rankdir=TB
    fontname="Helvetica"
    bgcolor="#f7f9fb"
    splines=curved
    nodesep=0.8
    ranksep=1.2

    node [fontname="Helvetica" margin="0.3,0.2"]
    edge [fontname="Helvetica" fontsize=10 arrowsize=0.8]

    labelloc="t"
    label=<<b><font point-size="20">Application: Settlement System</font></b><br/><font point-size="14">Operations ‚Üí Trade Settlement ‚Üí Settlement Operations</font>>

    subgraph cluster_Global_Markets {
        label=<<b>üè¢ Organization: Global Markets</b>>
        style="filled,rounded"
        fillcolor="#FEDCDB"
        color="#2d3e50"
        penwidth=3
        fontsize=18

        subgraph cluster_Dep_Capital_Markets {
            label=<<b>üè¨ Department: Capital Markets</b>>
            style="filled,rounded"
            fillcolor="#e6f2ff"
            color="#1f78d1"
            penwidth=2.5

            subgraph cluster_BO_Trading_Desk {
                label=<<b>üë§ Biz_Ownr: Trading Desk</b>>
                style="filled,rounded"
                fillcolor="#d3e7ff"
                color="#1c6ecf"
                penwidth=2

                subgraph cluster_App_Equity_Trading_Platform {
                    label=<<b>üß© App: Equity Trading Platform</b>>
                    style="filled,rounded"
                    fillcolor="#c7ddff"
                    color="#155fb3"
                    penwidth=2

                    QM_TRADING_01 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#d3e7ff"
                        color="#155fb3"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_TRADING_01.svg"
                        target="_blank"
                        tooltip="Click to view QM_TRADING_01 details"
                        label=<<b>üóÑÔ∏è QM_TRADING_01</b><br/>QLocal: 2 | QRemote: 3 | QAlias: 1<br/>‚¨Ö In: 0+1 | Out: 3+1 ‚û°>
                    ]

                    QM_TRADING_02 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#d3e7ff"
                        color="#155fb3"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_TRADING_02.svg"
                        target="_blank"
                        tooltip="Click to view QM_TRADING_02 details"
                        label=<<b>üóÑÔ∏è QM_TRADING_02</b><br/>QLocal: 2 | QRemote: 2 | QAlias: 0<br/>‚¨Ö In: 0+1 | Out: 2+1 ‚û°>
                    ]

                }

            }

        }

    }

    subgraph cluster_Operations {
        label=<<b>üè¢ Organization: Operations</b>>
        style="filled,rounded"
        fillcolor="#FEDCDB"
        color="#2d3e50"
        penwidth=3
        fontsize=18

        subgraph cluster_Dep_Payments {
            label=<<b>üè¨ Department: Payments</b>>
            style="filled,rounded"
            fillcolor="#e6f2ff"
            color="#1f78d1"
            penwidth=2.5

            subgraph cluster_BO_Payment_Processing {
                label=<<b>üë§ Biz_Ownr: Payment Processing</b>>
                style="filled,rounded"
                fillcolor="#d3e7ff"
                color="#1c6ecf"
                penwidth=2

                subgraph cluster_App_Payment_Gateway {
                    label=<<b>üß© App: Payment Gateway</b>>
                    style="filled,rounded"
                    fillcolor="#c7ddff"
                    color="#155fb3"
                    penwidth=2

                    QM_PAY_01 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#d3e7ff"
                        color="#155fb3"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_PAY_01.svg"
                        target="_blank"
                        tooltip="Click to view QM_PAY_01 details"
                        label=<<b>üóÑÔ∏è QM_PAY_01</b><br/>QLocal: 5 | QRemote: 2 | QAlias: 1<br/>‚¨Ö In: 1+1 | Out: 2+3 ‚û°>
                    ]

                    QM_PAY_02 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#d3e7ff"
                        color="#155fb3"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_PAY_02.svg"
                        target="_blank"
                        tooltip="Click to view QM_PAY_02 details"
                        label=<<b>üóÑÔ∏è QM_PAY_02</b><br/>QLocal: 3 | QRemote: 1 | QAlias: 0<br/>‚¨Ö In: 1+1 | Out: 1+1 ‚û°>
                    ]

                }

            }

        }

        subgraph cluster_Dep_Trade_Settlement {
            label=<<b>üè¨ Department: Trade Settlement</b>>
            style="filled,rounded"
            fillcolor="#e6f2ff"
            color="#1f78d1"
            penwidth=2.5

            subgraph cluster_BO_Settlement_Operations {
                label=<<b>üë§ Biz_Ownr: Settlement Operations</b>>
                style="filled,rounded"
                fillcolor="#d3e7ff"
                color="#1c6ecf"
                penwidth=2

                subgraph cluster_App_Settlement_System {
                    label=<<b>üß© App: Settlement System</b>>
                    style="filled,rounded"
                    fillcolor="#fffacd"
                    color="#ffa500"
                    penwidth=3

                    QM_SETTLE_01 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#ffeb3b"
                        color="#ff9800"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_SETTLE_01.svg"
                        target="_blank"
                        tooltip="Click to view QM_SETTLE_01 details"
                        label=<<b>üóÑÔ∏è QM_SETTLE_01</b><br/>QLocal: 4 | QRemote: 2 | QAlias: 0<br/>‚¨Ö In: 1+1 | Out: 2+2 ‚û°>
                    ]

                    QM_SETTLE_02 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#ffeb3b"
                        color="#ff9800"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_SETTLE_02.svg"
                        target="_blank"
                        tooltip="Click to view QM_SETTLE_02 details"
                        label=<<b>üóÑÔ∏è QM_SETTLE_02</b><br/>QLocal: 3 | QRemote: 1 | QAlias: 0<br/>‚¨Ö In: 1+1 | Out: 1+1 ‚û°>
                    ]

                }

            }

        }

    }

    subgraph cluster_Technology {
        label=<<b>üè¢ Organization: Technology</b>>
        style="filled,rounded"
        fillcolor="#FEDCDB"
        color="#2d3e50"
        penwidth=3
        fontsize=18

        subgraph cluster_Dep_Middleware {
            label=<<b>üè¨ Department: Middleware</b>>
            style="filled,rounded"
            fillcolor="#e6f2ff"
            color="#1f78d1"
            penwidth=2.5

            subgraph cluster_BO_Integration_Services {
                label=<<b>üë§ Biz_Ownr: Integration Services</b>>
                style="filled,rounded"
                fillcolor="#d3e7ff"
                color="#1c6ecf"
                penwidth=2

                subgraph cluster_Gateway_Gateway__Internal_ {
                    label=<<b>üîÄ Gateway: Internal</b>>
                    style="filled,rounded"
                    fillcolor="#fff3e0"
                    color="#ff9800"
                    penwidth=2.5

                    QM_GW_INTERNAL_01 [
                        shape=cylinder
                        style="filled"
                        fillcolor="#ffe0b2"
                        color="#f57c00"
                        penwidth=1.8
                        fontcolor="#000000"
                        URL="../individual/QM_GW_INTERNAL_01.svg"
                        target="_blank"
                        tooltip="Click to view QM_GW_INTERNAL_01 details"
                        label=<<b>üóÑÔ∏è QM_GW_INTERNAL_01</b><br/>QLocal: 6 | QRemote: 1 | QAlias: 0<br/>‚¨Ö In: 3+1 | Out: 1+1 ‚û°>
                    ]

                }

            }

        }

    }


    /* External Connection Notes */
    QM_SETTLE_01_inbound_extra [
        shape=note
        style="filled"
        fillcolor="#fff3cd"
        color="#ffc107"
        penwidth=1.5
        fontsize=9
        label=<‚¨Ö <b>External Inbound</b><br/>‚Ä¢ SETTLE.IN>
    ]
    QM_SETTLE_01_inbound_extra -> QM_SETTLE_01 [style=dashed color="#ffc107" penwidth=2]
    QM_SETTLE_01_outbound_extra [
        shape=note
        style="filled"
        fillcolor="#d1ecf1"
        color="#17a2b8"
        penwidth=1.5
        fontsize=9
        label=<‚û° <b>External Outbound</b><br/>‚Ä¢ SETTLE.CONFIRM<br/>‚Ä¢ SETTLE.FAILS>
    ]
    QM_SETTLE_01 -> QM_SETTLE_01_outbound_extra [style=dashed color="#17a2b8" penwidth=2]
    QM_SETTLE_02_inbound_extra [
        shape=note
        style="filled"
        fillcolor="#fff3cd"
        color="#ffc107"
        penwidth=1.5
        fontsize=9
        label=<‚¨Ö <b>External Inbound</b><br/>‚Ä¢ SETTLE.IN>
    ]
    QM_SETTLE_02_inbound_extra -> QM_SETTLE_02 [style=dashed color="#ffc107" penwidth=2]
    QM_SETTLE_02_outbound_extra [
        shape=note
        style="filled"
        fillcolor="#d1ecf1"
        color="#17a2b8"
        penwidth=1.5
        fontsize=9
        label=<‚û° <b>External Outbound</b><br/>‚Ä¢ SETTLE.CONFIRM>
    ]
    QM_SETTLE_02 -> QM_SETTLE_02_outbound_extra [style=dashed color="#17a2b8" penwidth=2]

    /* Connections */

    /* Direct connections from focus application */
    QM_SETTLE_01 -> QM_PAY_01 [color="#ff6b5a" penwidth=2.2 style=dashed]
    QM_SETTLE_02 -> QM_PAY_02 [color="#ff6b5a" penwidth=2.2 style=dashed]
    QM_SETTLE_01 -> QM_GW_INTERNAL_01 [color="#b455ff" penwidth=2.5 style=dashed]

    /* Reverse connections to focus application */
    QM_TRADING_01 -> QM_SETTLE_01 [color="#28a745" penwidth=2.0 style=dashed]
    QM_TRADING_02 -> QM_SETTLE_02 [color="#28a745" penwidth=2.0 style=dashed]


    /* Legend */
    subgraph cluster_legend {
        label="Legend"
        style="rounded,filled"
        fillcolor="#ffffff"
        color="#d0d8e0"
        penwidth=1.5
        fontsize=12

        legend [
            shape=box
            style="rounded,filled"
            fillcolor="#f7f9fb"
            label=<
                <table border="0" cellborder="0" cellspacing="2" cellpadding="4">
                    <tr><td align="left"><b>Focus Application</b></td></tr>
                    <tr><td bgcolor="#fffacd" align="left">  Highlighted in yellow</td></tr>
                    <tr><td align="left">  MQ Managers: 2 (clickable)</td></tr>
                    <tr><td><br/></td></tr>
                    <tr><td align="left"><b>Connected MQ Managers</b></td></tr>
                    <tr><td align="left">  Total shown: 7</td></tr>
                    <tr><td><br/></td></tr>
                    <tr><td align="left"><b>MQ Manager Metrics</b></td></tr>
                    <tr><td align="left">  In: X+Y ‚Äî Internal+External inbound</td></tr>
                    <tr><td align="left">  Out: X+Y ‚Äî Internal+External outbound</td></tr>
                    <tr><td><br/></td></tr>
                    <tr><td align="left"><b>Direct Connections (from focus)</b></td></tr>
                    <tr><td align="left"><font color="#1f78d1">‚îÄ‚îÄ‚îÄ‚îÄ </font> Same department</td></tr>
                    <tr><td align="left"><font color="#ff6b5a">- - - </font> Cross-department</td></tr>
                    <tr><td align="left"><font color="#b455ff">- - - </font> Cross-organization</td></tr>
                    <tr><td><br/></td></tr>
                    <tr><td align="left"><b>Reverse Connections (to focus)</b></td></tr>
                    <tr><td align="left"><font color="#28a745">- - - </font> From external sources</td></tr>
                    <tr><td><br/></td></tr>
                    <tr><td align="left"><b>External Connection Notes</b></td></tr>
                    <tr><td align="left"><font color="#ffc107">üìã</font> External Inbound (yellow)</td></tr>
                    <tr><td align="left"><font color="#17a2b8">üìã</font> External Outbound (blue)</td></tr>
                </table>
            >
        ]
    }

    /* Footer */
    footer [
        shape=box
        style="rounded,filled"
        fillcolor="#e8e8e8"
        color="#cccccc"
        penwidth=1
        fontsize=10
        label=<<table border="0" cellborder="0" cellspacing="2" cellpadding="2">
            <tr><td align="center"><b>Application Diagram: Settlement System</b></td></tr>
            <tr><td align="center"><font point-size="9">Generated: 2026-01-30 23:40:41</font></td></tr>
            <tr><td align="center"><font point-size="9">Click on MQ Managers to view details</font></td></tr>
        </table>>
    ]
}